# yaml-language-server: $schema=https://github.com/epics-containers/ioc-adaravis/releases/download/2023.11.4/ibek.ioc.schema.json

ioc_name: '{{ ioc_yaml_file_name }}'

description: auto-generated by https://github.com/epics-containers/builder2ibek

entities:

  - type: epics.EpicsCaMaxArrayBytes
    max_bytes: 3000000

  - type: devIocStats.iocAdminSoft
    IOC: '{{ ioc_name | upper }}'

  - type: ADAravis.aravisCamera
    CLASS: AVT_Mako_G125B
    ID: 192.168.250.3
    P: BL46P-EA-DET-01
    PORT: DET.CAM
    R: ':DET:'

  - type: ADCore.NDPosPlugin
    ADDR: 0
    ENABLED: 1
    NDARRAY_PORT: DET.CAM
    P: BL46P-EA-DET-01
    PORT: DET.POS
    QUEUE: 1000
    R: ':POS:'
    TIMEOUT: 1

  - type: ADCore.NDStats
    ADDR: 0
    ENABLED: 1
    HIST_SIZE: 256
    NCHANS: 1000
    NDARRAY_PORT: DET.POS
    P: BL46P-EA-DET-01
    PORT: DET.STAT
    QUEUE: 1000
    R: ':STAT:'
    TIMEOUT: 1
    XSIZE: 1936
    YSIZE: 1236

  - type: ADCore.NDFileHDF5
    ADDR: 0
    ENABLED: 1
    NDARRAY_ADDR: 0
    NDARRAY_PORT: DET.STAT
    P: BL46P-EA-DET-01
    PORT: DET.HDF
    QUEUE: 1000
    R: ':HDF5:'
    TIMEOUT: 1

  - type: ADCore.NDStdArrays
    FTVL: UCHAR
    NDARRAY_PORT: DET.CAM
    NELEMENTS: 38720
    P: BL46P-EA-DET-01
    PORT: DET.ARR
    R: ':ARR:'
    TYPE: Int8

  - type: ADCore.NDPvaPlugin
    ENABLED: 1
    NDARRAY_ADDR: 0
    NDARRAY_PORT: DET.CAM
    P: BL46P-EA-DET-01
    PORT: DET.PVA
    PVNAME: BL46P-EA-DET-01:TX:PVA
    R: ':TX:'
    TIMEOUT: 0

  - type: epics.Dbpf
    pv: BL46P-EA-DET-01:DET:SizeY
    value: "20"

  - type: epics.Dbpf
    pv: BL46P-EA-DET-01:DET:OffsetY
    value: "600"

  - type: epics.Dbpf
    pv: BL46P-EA-DET-01:DET:TriggerSource
    value: '"Line1"'

  - type: epics.Dbpf
    pv: BL46P-EA-DET-01:DET:GC_GevSCPSPacketSize
    value: "1500"
